image:
  tag: local
testDatabase:
  enabled: true
ingress:
  enabled: true
  hosts: ['starlight.k3d.localhost']
persistence:
  enabled: false
minio:
  enabled: true
  ingress:
    enabled: true
    hostname: starlight-minio.k3d.localhost
postgresql:
  persistence:
    enabled: false
redis:
  cluster:
    enabled: false
  master:
    persistence:
      enabled: false
memcached:
  architecture: standalone
  persistence:
    enabled: false
solr:
  persistence:
    enabled: false
  replicaCount: 3
  ingress:
    enabled: true
    hostname: starlight-solr.k3d.localhost
  zookeeper:
    persistence:
      enabled: false
    replicaCount: 3
starlight:
  auth:
    method: developer
  sitemaps:
    enabled: false
  rails:
    environment: development
    serve_static_files: false

extraContainerConfiguration:
  stdin: true
  tty: true
extraVolumeMounts:
   - name: local-app
     mountPath: /home/starlight/app
extraVolumes:
 - name: local-app
   hostPath:
     path: /src
     type: DirectoryOrCreate
extraInitContainers:
- name: starlight-create-test-db
  image: local
  imagePullPolicy: Always
  command:
    - /bin/sh
    - -c
    - db-wait.sh development-postgresql:5432 createdb --owner starlight
  env:
    - name: "PGHOST"
      value: development-postgresql
    - name: "PGPASSWORD"
      value: starlight_admin
    - name: "PGUSER"
      value: postgres
    - name: "PGDATABASE"
      value: starlight_db_test
    - name: "PGOWNER"
      value: starlight
