{
  "extends": [
    "config:base",
    ":preserveSemverRanges",
    "regexManagers:dockerfileVersions"
  ],
  "gitlabci": {
    "fileMatch": ["^ci/.*\\.ya?ml$"]
  },
  "bundler": { "enabled": true },
  "prHourlyLimit": 5,
  "rebaseWhen": "never",
  "labels": [ "dependencies" ],
  "regexManagers": [
    {
      "fileMatch": ["^ci/comet.yml$"],
      "matchStrings": [".+?helm\\spull\\s(?<depName>.+?)\\s--version\\s(?<currentValue>.+?)\\s.*"],
      "datasourceTemplate": "docker"
    }
  ],
  "packageRules":[
    {
      "description": "Use custom regex versioning for bitnami images",
      "matchPackagePrefixes": ["gcr.io/bitnami-containers/", "bitnami/"],
      "matchDatasources": ["docker"],
      "versioning": "regex:^(?<major>\\d+)\\.(?<minor>\\d+)\\.(?<patch>\\d+)(:?-(?<compatibility>.*-r)(?<build>\\d+))?$"
    }
  ]
}
